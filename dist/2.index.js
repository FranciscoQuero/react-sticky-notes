(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{8:function(e,t,n){"use strict";n.r(t);var o=n(1),r=n.n(o),i=n(0);var c=function(e){var t=e.index,n=e.prefix,o=e.selected,r=e.addItem,c=e.deleteItem,a=e.setToggle,u=e.position,s=e.title,l=e.targetRef,f=e.icons;return Object(i.d)("div",{className:"".concat(n,"--header ").concat(o?n+"--header__selected":""),style:Object(i.b)("note-header",{selected:o})},[Object(i.d)("button",{key:"note-header-button-1",className:"".concat(n,"--header__button--add"),onClick:function(){return r({index:t,position:u,selected:!0})}},f.add),Object(i.d)("button",{key:"note-header-button-2",className:"".concat(n,"--header__button--title"),ref:l},s||"..."),Object(i.d)("button",{key:"note-header-button-3",className:"".concat(n,"--header__button--menu"),onClick:function(){return a(t+1)}},f.menu),Object(i.d)("button",{key:"note-header-button-4",className:"".concat(n,"--header__button--trash"),onClick:function(){return c(t)}},f.trash)])};var a=function(e){var t=e.index,n=e.prefix,o=e.text,r=e.updateItem;return Object(i.d)("div",{className:"".concat(n,"--text"),placeholder:"react-hooks",contentEditable:"true",onBlur:function(e){return r(t,{title:String(e.target.innerText).substr(0,10),text:e.target.innerText})},dangerouslySetInnerHTML:{__html:Object(i.h)(o)},style:Object(i.b)("note-input")})};var u=function(e){var t=e.index,n=e.prefix,o=e.color,r=e.colorCodes,c=e.setColor;return Object(i.d)("div",{className:"".concat(n,"--colors"),style:Object(i.b)("note-menu")},r.map(function(e){return Object(i.d)("button",{key:e,onClick:function(){return c(t,e)},className:"".concat(n,"--colors__color ").concat(o===e?n+"--colors__color--selected":""),style:Object(i.b)("note-color-selector",{colorCode:e})},e)}))};function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"initialX",0),l(this,"initialY",0),l(this,"currentX",0),l(this,"currentY",0),l(this,"onMouseMove",function(e){e.preventDefault();var n=t.options.element,o=t.getPosition(e,t.initialX,t.initialY);t.currentX=o.x,t.currentY=o.y;var r=t.options.element.parentElement.offsetWidth-t.options.element.offsetWidth,i=t.options.element.parentElement.offsetHeight-t.options.element.offsetHeight;t.currentX<0&&(t.currentX=0),t.currentY<0&&(t.currentY=0),t.currentX>r&&(t.currentX=r),t.currentY>i&&(t.currentY=i,n.parentElement.offsetHeight<n.offsetHeight&&(t.currentY=0)),t.setTranslate(t.currentX,t.currentY)}),l(this,"onMouseDown",function(e){var n=t.options.element.getBoundingClientRect(),o=t.getPosition(e,n.x,n.y);t.initialX=o.x,t.initialY=o.y,document.addEventListener("mousemove",t.onMouseMove,null),document.addEventListener("mouseup",t.onMouseUp,null)}),l(this,"onMouseUp",function(e){t.options.onDragComplete&&t.options.onDragComplete.call(t,{x:t.currentX,y:t.currentY}),document.removeEventListener("mousemove",t.onMouseMove),document.removeEventListener("mouseup",t.onMouseUp,null)})}return function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(e,[{key:"init",value:function(e){this.options=e}},{key:"setTranslate",value:function(e,t){this.options.element&&(this.options.element.style.transform="translate3d(".concat(e,"px,").concat(t,"px,0)"))}},{key:"getPosition",value:function(e,t,n){return/touch/.test(e.type)?{x:e.touches[0].clientX-t,y:e.touches[0].clientY-n}:{x:e.clientX-t,y:e.clientY-n}}}]),e}();function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),h(m(n=function(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?m(e):t}(this,b(t).call(this,e))),"draggable",null),h(m(n),"onMouseDown",function(e){n.state.active&&e.target===n.props.target.current&&n.draggable.onMouseDown(e)}),h(m(n),"onClick",function(e){n.setState({active:!0},function(){n.props.onSelect(n.state.active)})}),n.state={active:e.selected,options:{}},n.element=r.a.createRef(),n.draggable=new f,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,r.a.Component),function(e,t,n){t&&d(e.prototype,t),n&&d(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this,t={element:this.element?this.element.current:null,position:this.props.position,onDragComplete:this.props.onDragComplete,onInit:this.props.onInit};this.setState({options:t},function(){e.draggable.init(t)})}},{key:"render",value:function(){return Object(i.d)("div",{className:this.props.className,style:this.props.style,ref:this.element,onClick:this.onClick,onMouseDown:this.onMouseDown},this.props.children)}}]),t}();function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function j(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=j(this,_(t).call(this,e))).targetRef=r.a.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,r.a.Component),function(e,t,n){t&&O(e.prototype,t),n&&O(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.index,n=e.selected,o=(e.width,e.height,e.containerHeight,e.toggle),r=e.setToggle,s=e.prefix,l=e.title,f=e.text,p=e.color,d=e.setColor,b=e.addItem,m=e.updateItem,y=e.selectItem,h=e.deleteItem,v=e.colorCodes,O=e.position,j=e.icons;return Object(i.d)(g,{className:"".concat(s,"--note ").concat(n?s+"--note__selected":""),position:O,selected:n,target:this.targetRef,onDragComplete:function(e){return m(t,{position:e})},onInit:function(e){return m(t,e)},onSelect:function(e){return y(t,{selected:e})},style:Object(i.b)("note",this.props)},[Object(i.d)(c,{key:"note-header",targetRef:this.targetRef,index:t,prefix:s,selected:n,icons:j,addItem:b,deleteItem:h,setToggle:r,position:O,title:l}),Object(i.d)("div",{key:"note-body",className:"".concat(s,"--note__body"),style:Object(i.b)("note-body",this.props)},o===t+1&&n&&v?Object(i.d)(u,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({key:"note-menu",colorCodes:v,updateItem:m,index:t,prefix:s,color:p,setColor:d},"colorCodes",v)):Object(i.d)(a,{key:"note-text",index:t,prefix:s,text:f,updateItem:m}))])}}]),t}();var k=function(e){var t=e.prefix,n=(e.icons,e.index),o=e.color,r=e.text,c=e.selectItem,a=e.deleteItem;return Object(i.d)("span",{className:"".concat(t,"--navbar__item"),style:{backgroundColor:o}},[Object(i.d)("button",{key:"navbar-item__".concat(n,"--select"),className:"".concat(t,"--navbar__item--select"),type:"button",onClick:function(){return c(n,{selected:!0})}},r||"..."),Object(i.d)("button",{key:"navbar-item__".concat(n,"--delete"),type:"button",className:"".concat(t,"--navbar__item--delete"),onClick:function(){return a(n,{selected:!0})}},"x")])};var C=function(e){var t=e.prefix,n=e.icons,o=e.addItem;return Object(i.d)("button",{key:"".concat(t,"--navbar__item--add"),type:"button",className:"".concat(t,"--navbar__item--add"),onClick:function(){return o()}},n.add)};var I=function(e){var t=e.prefix,n=e.items,o=e.addItem,r=e.selectItem,c=e.deleteItem,a=e.icons,u=e.displayFooter;return Object(i.d)("div",{className:"".concat(t,"--navbar")},[u&&n?n.map(function(e,n){return Object(i.d)(k,{key:"navbar-item__".concat(n),index:n,prefix:t,icons:a,text:e.text,color:e.color,selectItem:r,deleteItem:c},e.text)}):null,Object(i.d)(C,{key:"navbar-item__add",prefix:t,icons:a,addItem:o})])};function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),M(T(n=function(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?T(e):t}(this,E(t).call(this,e))),"setToggle",function(e){n.setState({toggle:n.state.toggle!==e&&e})}),M(T(n),"setColor",function(e,t){n.setToggle(!1),n.props.updateItem(e,{color:t})}),n.state={toggle:!1,containerWidth:0,containerHeight:0},n.notesContainer=r.a.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,r.a.Component),function(e,t,n){t&&P(e.prototype,t),n&&P(e,n)}(t,[{key:"componentDidMount",value:function(){this.notesContainer&&this.notesContainer.current&&this.setState({containerWidth:this.notesContainer.current.offsetWidth,containerHeight:this.notesContainer.current.offsetHeight})}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefix,o=t.addItem,r=t.updateItem,c=t.selectItem,a=t.deleteItem,u=t.colorCodes,s=(t.containerWidth,t.containerHeight,t.width),l=t.height,f=(t.backgroundColor,t.icons),p=t.items,d=t.displayFooter;return Object(i.d)("div",{key:n,className:n,ref:this.notesContainer,style:Object(i.b)("container",this.props)},[p?p.map(function(t,d){return Object(i.d)(w,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){M(e,t,n[t])})}return e}({},t,e.state,{count:p.length,key:d,prefix:n,index:d,icons:f,width:s,height:l,addItem:o,updateItem:r,selectItem:c,deleteItem:a,colorCodes:u,toggle:e.state.toggle,setToggle:e.setToggle,setColor:e.setColor}),null)}):null,Object(i.d)(I,{key:"".concat(n,"--navbar"),displayFooter:d,prefix:n,icons:f,items:p,addItem:o,selectItem:c,deleteItem:a})])}}]),t}();t.default=D}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9yZWFjdC1zdGlja3ktbm90ZXMvbm90ZS1oZWFkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvcmVhY3Qtc3RpY2t5LW5vdGVzL25vdGUtdGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9yZWFjdC1zdGlja3ktbm90ZXMvbm90ZS1tZW51LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3JlYWN0LXN0aWNreS1ub3Rlcy91dGlscy9kcmFnZ2FibGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvcmVhY3Qtc3RpY2t5LW5vdGVzL25vdGUtZHJhZ2dhYmxlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3JlYWN0LXN0aWNreS1ub3Rlcy9ub3RlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3JlYWN0LXN0aWNreS1ub3Rlcy9uYXZiYXItaXRlbS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9yZWFjdC1zdGlja3ktbm90ZXMvbmF2YmFyLWl0ZW0tYWRkLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3JlYWN0LXN0aWNreS1ub3Rlcy9uYXZiYXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvcmVhY3Qtc3RpY2t5LW5vdGVzL25vdGVzLmpzIl0sIm5hbWVzIjpbIk5vdGVIZWFkZXIiLCJfcmVmIiwiaW5kZXgiLCJwcmVmaXgiLCJzZWxlY3RlZCIsImFkZEl0ZW0iLCJkZWxldGVJdGVtIiwic2V0VG9nZ2xlIiwicG9zaXRpb24iLCJ0aXRsZSIsInRhcmdldFJlZiIsImljb25zIiwiaCIsImNsYXNzTmFtZSIsImNvbmNhdCIsInN0eWxlIiwiZ2V0RWxlbWVudFN0eWxlIiwia2V5Iiwib25DbGljayIsImFkZCIsInJlZiIsIm1lbnUiLCJ0cmFzaCIsIk5vdGVUZXh0IiwidGV4dCIsInVwZGF0ZUl0ZW0iLCJwbGFjZWhvbGRlciIsImNvbnRlbnRFZGl0YWJsZSIsIm9uQmx1ciIsImUiLCJTdHJpbmciLCJ0YXJnZXQiLCJpbm5lclRleHQiLCJzdWJzdHIiLCJkYW5nZXJvdXNseVNldElubmVySFRNTCIsIl9faHRtbCIsIm5sVG9CciIsIk5vdGVNZW51IiwiY29sb3IiLCJjb2xvckNvZGVzIiwic2V0Q29sb3IiLCJtYXAiLCJjb2xvckNvZGUiLCJEcmFnZ2FibGUiLCJwcmV2ZW50RGVmYXVsdCIsImVsIiwiX3RoaXMiLCJvcHRpb25zIiwiZWxlbWVudCIsImdldFBvc2l0aW9uIiwiaW5pdGlhbFgiLCJpbml0aWFsWSIsImN1cnJlbnRYIiwieCIsImN1cnJlbnRZIiwieSIsIngxIiwicGFyZW50RWxlbWVudCIsIm9mZnNldFdpZHRoIiwieTEiLCJvZmZzZXRIZWlnaHQiLCJzZXRUcmFuc2xhdGUiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwib25Nb3VzZU1vdmUiLCJvbk1vdXNlVXAiLCJvbkRyYWdDb21wbGV0ZSIsImNhbGwiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidGhpcyIsInRyYW5zZm9ybSIsImR4IiwiZHkiLCJ0ZXN0IiwidHlwZSIsInRvdWNoZXMiLCJjbGllbnRYIiwiY2xpZW50WSIsIk5vdGVEcmFnZ2FibGUiLCJwcm9wcyIsIm5vdGVfZHJhZ2dhYmxlX2NsYXNzQ2FsbENoZWNrIiwibm90ZV9kcmFnZ2FibGVfZGVmaW5lUHJvcGVydHkiLCJfYXNzZXJ0VGhpc0luaXRpYWxpemVkIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJfZ2V0UHJvdG90eXBlT2YiLCJzdGF0ZSIsImFjdGl2ZSIsImN1cnJlbnQiLCJkcmFnZ2FibGUiLCJvbk1vdXNlRG93biIsInNldFN0YXRlIiwib25TZWxlY3QiLCJSZWFjdCIsImNyZWF0ZVJlZiIsIkNvbXBvbmVudCIsIl90aGlzMiIsIm9uSW5pdCIsImluaXQiLCJjaGlsZHJlbiIsIk5vdGUiLCJub3RlX2NsYXNzQ2FsbENoZWNrIiwibm90ZV9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwibm90ZV9nZXRQcm90b3R5cGVPZiIsIl90aGlzJHByb3BzIiwidG9nZ2xlIiwid2lkdGgiLCJoZWlnaHQiLCJjb250YWluZXJIZWlnaHQiLCJzZWxlY3RJdGVtIiwibm90ZV9kZWZpbmVQcm9wZXJ0eSIsIk5hdkJhckl0ZW0iLCJiYWNrZ3JvdW5kQ29sb3IiLCJOYXZCYXJJdGVtQWRkIiwiTmF2QmFyIiwiaXRlbXMiLCJkaXNwbGF5Rm9vdGVyIiwiaXRlbSIsIk5vdGVzIiwibm90ZXNfY2xhc3NDYWxsQ2hlY2siLCJub3Rlc19kZWZpbmVQcm9wZXJ0eSIsIm5vdGVzX2Fzc2VydFRoaXNJbml0aWFsaXplZCIsIm5vdGVzX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJub3Rlc19nZXRQcm90b3R5cGVPZiIsImNvbnRhaW5lcldpZHRoIiwibm90ZXNDb250YWluZXIiLCJfb2JqZWN0U3ByZWFkIiwiY291bnQiLCJsZW5ndGgiXSwibWFwcGluZ3MiOiIwSEFvQ2VBLE1BbkNmLFNBQUFDLEdBQW9ILElBQTlGQyxFQUE4RkQsRUFBOUZDLE1BQU9DLEVBQXVGRixFQUF2RkUsT0FBUUMsRUFBK0VILEVBQS9FRyxTQUFVQyxFQUFxRUosRUFBckVJLFFBQVNDLEVBQTRETCxFQUE1REssV0FBWUMsRUFBZ0ROLEVBQWhETSxVQUFXQyxFQUFxQ1AsRUFBckNPLFNBQVVDLEVBQTJCUixFQUEzQlEsTUFBT0MsRUFBb0JULEVBQXBCUyxVQUFXQyxFQUFTVixFQUFUVSxNQUN2RyxPQUFPQyxZQUFFLE9BQ0xDLFVBQVMsR0FBQUMsT0FBSVgsRUFBSixhQUFBVyxPQUFzQlYsRUFBU0QsRUFBTyxxQkFBcUIsSUFDcEVZLE1BQU9DLFlBQWdCLGVBQWVaLGVBRXRDUSxZQUFFLFVBQ0VLLElBQUssdUJBQ0xKLFVBQVMsR0FBQUMsT0FBSVgsRUFBSix5QkFDVGUsUUFBUSxrQkFBSWIsR0FBU0gsUUFBT00s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RUFDNEdHLE9BQXlCakcsR0FEckk4RixFQUNvSFEsZ0JBRHBIUixFQUNxSTlGLE9BQU95RyxFQUQ1SVgsRUFDNElXLE1BQU9DLEVBRG5KWixFQUNtSlksY0FDdkosT0FBT3pHLFlBQUUsT0FDREssSUFBS2QsRUFDTFUsVUFBV1YsRUFDWGlCLElBQUttRCxLQUFLdUQsZUFDVi9HLE1BQU9DLFlBQWdCLFlBQWF1RCxLQUFLVSxTQUd6Q21DLEVBQU1BLEVBQU0zRSxJQUFJLFNBQUM2RSxFQUFNcEgsR0FBUCxPQUNaVSxZQUFFeUYsb1VBQUQwQixJQUNNVCxFQUNBckIsRUFBS1YsT0FDUnlDLE1BQU1aLEVBQU1hLE9BQ1poSCxJQUFLZixFQUNMQyxTQUNBRCxRQUNBUyxRQUNBZ0csUUFDQUMsU0FDQXZHLFVBQ0FvQixhQUNBcUYsYUFDQXhHLGFBQ0FpQyxhQUNBbUUsT0FBT1QsRUFBS1YsTUFBTW1CLE9BQ2xCbkcsVUFBVTBGLEVBQUsxRixVQUNmaUMsU0FBU3lELEVBQUt6RCxXQUNoQixRQUNKLEtBQ0Y1QixZQUFFdUcsR0FDRWxHLElBQUcsR0FBQUgsT0FBS1gsRUFBTCxZQUNIa0gsZ0JBQ0FsSCxTQUNBUSxRQUNBeUcsUUFDQS9HLFVBQ0F5RyxhQUNBeEcsMEJBTUxpSCIsImZpbGUiOiIyLmluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaCwgZ2V0RWxlbWVudFN0eWxlIH0gZnJvbSAnLi91dGlscyc7XG5mdW5jdGlvbiBOb3RlSGVhZGVyKHsgaW5kZXgsIHByZWZpeCwgc2VsZWN0ZWQsIGFkZEl0ZW0sIGRlbGV0ZUl0ZW0sIHNldFRvZ2dsZSwgcG9zaXRpb24sIHRpdGxlLCB0YXJnZXRSZWYsIGljb25zIH0pIHtcbiAgICByZXR1cm4gaCgnZGl2Jyx7XG4gICAgICAgIGNsYXNzTmFtZTpgJHtwcmVmaXh9LS1oZWFkZXIgJHtzZWxlY3RlZD9wcmVmaXgrJy0taGVhZGVyX19zZWxlY3RlZCc6Jyd9YCxcbiAgICAgICAgc3R5bGU6IGdldEVsZW1lbnRTdHlsZSgnbm90ZS1oZWFkZXInLHtzZWxlY3RlZH0pXG4gICAgfSxbXG4gICAgICAgIGgoJ2J1dHRvbicse1xuICAgICAgICAgICAga2V5OiAnbm90ZS1oZWFkZXItYnV0dG9uLTEnLFxuICAgICAgICAgICAgY2xhc3NOYW1lOmAke3ByZWZpeH0tLWhlYWRlcl9fYnV0dG9uLS1hZGRgLFxuICAgICAgICAgICAgb25DbGljazooKT0+YWRkSXRlbSh7aW5kZXgsIHBvc2l0aW9uLCBzZWxlY3RlZDogdHJ1ZX0pXG4gICAgICAgIH0sIFxuICAgICAgICAgICAgaWNvbnMuYWRkXG4gICAgICAgICksXG4gICAgICAgIGgoJ2J1dHRvbicse1xuICAgICAgICAgICAga2V5OiAnbm90ZS1oZWFkZXItYnV0dG9uLTInLFxuICAgICAgICAgICAgY2xhc3NOYW1lOmAke3ByZWZpeH0tLWhlYWRlcl9fYnV0dG9uLS10aXRsZWAsXG4gICAgICAgICAgICByZWY6IHRhcmdldFJlZlxuICAgICAgICB9LFxuICAgICAgICAgICAgdGl0bGU/dGl0bGU6XCIuLi5cIlxuICAgICAgICApLFxuICAgICAgICBoKCdidXR0b24nLHtcbiAgICAgICAgICAgIGtleTogJ25vdGUtaGVhZGVyLWJ1dHRvbi0zJyxcbiAgICAgICAgICAgIGNsYXNzTmFtZTpgJHtwcmVmaXh9LS1oZWFkZXJfX2J1dHRvbi0tbWVudWAsXG4gICAgICAgICAgICBvbkNsaWNrOigpPT5zZXRUb2dnbGUoaW5kZXgrMSlcbiAgICAgICAgfSwgXG4gICAgICAgICAgICBpY29ucy5tZW51XG4gICAgICAgICksXG4gICAgICAgIGgoJ2J1dHRvbicse1xuICAgICAgICAgICAga2V5OiAnbm90ZS1oZWFkZXItYnV0dG9uLTQnLFxuICAgICAgICAgICAgY2xhc3NOYW1lOmAke3ByZWZpeH0tLWhlYWRlcl9fYnV0dG9uLS10cmFzaGAsXG4gICAgICAgICAgICBvbkNsaWNrOigpPT5kZWxldGVJdGVtKGluZGV4KVxuICAgICAgICB9LCBcbiAgICAgICAgICAgIGljb25zLnRyYXNoXG4gICAgICAgICksXG4gICAgXSlcbn1cbmV4cG9ydCBkZWZhdWx0IE5vdGVIZWFkZXI7XG4iLCJpbXBvcnQgeyBoLCBubFRvQnIsIGdldEVsZW1lbnRTdHlsZSB9IGZyb20gJy4vdXRpbHMnXG5mdW5jdGlvbiBOb3RlVGV4dCh7IGluZGV4LCBwcmVmaXgsIHRleHQsIHVwZGF0ZUl0ZW0gfSkge1xuICAgIHJldHVybiBoKCdkaXYnLHtcbiAgICAgICAgY2xhc3NOYW1lOmAke3ByZWZpeH0tLXRleHRgLFxuICAgICAgICBwbGFjZWhvbGRlcjpcInJlYWN0LWhvb2tzXCIsXG4gICAgICAgIGNvbnRlbnRFZGl0YWJsZTpcInRydWVcIixcbiAgICAgICAgb25CbHVyOihlKT0+dXBkYXRlSXRlbShpbmRleCwge1xuICAgICAgICAgICAgdGl0bGU6IFN0cmluZyhlLnRhcmdldC5pbm5lclRleHQpLnN1YnN0cigwLDEwKSxcbiAgICAgICAgICAgIHRleHQ6IGUudGFyZ2V0LmlubmVyVGV4dFxuICAgICAgICB9KSxcbiAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6e19faHRtbDpubFRvQnIodGV4dCl9LFxuICAgICAgICBzdHlsZTogZ2V0RWxlbWVudFN0eWxlKCdub3RlLWlucHV0JylcbiAgICB9KVxufVxuZXhwb3J0IGRlZmF1bHQgTm90ZVRleHQ7IiwiaW1wb3J0IHsgaCwgZ2V0RWxlbWVudFN0eWxlIH0gZnJvbSAnLi91dGlscydcbmZ1bmN0aW9uIE5vdGVNZW51KHsgaW5kZXgsIHByZWZpeCwgY29sb3IsIGNvbG9yQ29kZXMsIHNldENvbG9yIH0pIHtcbiAgICByZXR1cm4gaCgnZGl2Jywge1xuICAgICAgICBjbGFzc05hbWU6IGAke3ByZWZpeH0tLWNvbG9yc2AsXG4gICAgICAgIHN0eWxlOiBnZXRFbGVtZW50U3R5bGUoJ25vdGUtbWVudScpXG4gICAgfSwgXG4gICAgICAgIGNvbG9yQ29kZXMubWFwKChjb2xvckNvZGUpID0+ICBoKCdidXR0b24nLCB7XG4gICAgICAgICAgICBrZXk6IGNvbG9yQ29kZSxcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHNldENvbG9yKGluZGV4LCBjb2xvckNvZGUpLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiBgJHtwcmVmaXh9LS1jb2xvcnNfX2NvbG9yICR7Y29sb3IgPT09IGNvbG9yQ29kZSA/IHByZWZpeCArICctLWNvbG9yc19fY29sb3ItLXNlbGVjdGVkJyA6ICcnfWAsXG4gICAgICAgICAgICBzdHlsZTogZ2V0RWxlbWVudFN0eWxlKCdub3RlLWNvbG9yLXNlbGVjdG9yJywge2NvbG9yQ29kZX0pXG4gICAgICAgIH0sIGNvbG9yQ29kZSApXG4gICAgKSlcbn1cbmV4cG9ydCBkZWZhdWx0IE5vdGVNZW51OyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIERyYWdnYWJsZSB7XG4gICAgaW5pdGlhbFggPSAwO1xuICAgIGluaXRpYWxZID0gMDtcbiAgICBjdXJyZW50WCA9IDA7XG4gICAgY3VycmVudFkgPSAwO1xuICAgIGluaXQob3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICAvKmlmKG9wdGlvbnMucG9zaXRpb24pe1xuICAgICAgICAgICAgdGhpcy54T2Zmc2V0ID0gb3B0aW9ucy5wb3NpdGlvbi54O1xuICAgICAgICAgICAgdGhpcy55T2Zmc2V0ID0gb3B0aW9ucy5wb3NpdGlvbi55O1xuICAgICAgICAgICAgdGhpcy5zZXRUcmFuc2xhdGUob3B0aW9ucy5wb3NpdGlvbi54LG9wdGlvbnMucG9zaXRpb24ueSk7XG4gICAgICAgIH0qL1xuICAgIH1cbiAgICBvbk1vdXNlTW92ZSA9IChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgZWwgPSB0aGlzLm9wdGlvbnMuZWxlbWVudDtcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLmdldFBvc2l0aW9uKGUsIHRoaXMuaW5pdGlhbFgsIHRoaXMuaW5pdGlhbFkpO1xuICAgICAgICB0aGlzLmN1cnJlbnRYID0gcG9zaXRpb24ueDtcbiAgICAgICAgdGhpcy5jdXJyZW50WSA9IHBvc2l0aW9uLnk7XG4gICAgICAgIGNvbnN0IHgxID0gdGhpcy5vcHRpb25zLmVsZW1lbnQucGFyZW50RWxlbWVudC5vZmZzZXRXaWR0aC10aGlzLm9wdGlvbnMuZWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICAgICAgY29uc3QgeTEgPSB0aGlzLm9wdGlvbnMuZWxlbWVudC5wYXJlbnRFbGVtZW50Lm9mZnNldEhlaWdodC10aGlzLm9wdGlvbnMuZWxlbWVudC5vZmZzZXRIZWlnaHRcbiAgICAgICAgaWYoIHRoaXMuY3VycmVudFg8MCApe1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50WCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYoIHRoaXMuY3VycmVudFk8MCApe1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50WSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYoIHRoaXMuY3VycmVudFg+eDEgKXtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFggPSB4MTtcbiAgICAgICAgfVxuICAgICAgICBpZiggdGhpcy5jdXJyZW50WT55MSApe1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50WSA9IHkxO1xuICAgICAgICAgICAgaWYoZWwucGFyZW50RWxlbWVudC5vZmZzZXRIZWlnaHQ8ZWwub2Zmc2V0SGVpZ2h0KXtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRZID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0VHJhbnNsYXRlKHRoaXMuY3VycmVudFgsIHRoaXMuY3VycmVudFkpO1xuICAgIH1cbiAgICBvbk1vdXNlRG93biA9IChlKSA9PiB7XG4gICAgICAgIGNvbnN0IGVsID0gdGhpcy5vcHRpb25zLmVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IHJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLmdldFBvc2l0aW9uKGUsIHJlY3QueCwgcmVjdC55KTtcbiAgICAgICAgdGhpcy5pbml0aWFsWCA9IHBvc2l0aW9uLng7XG4gICAgICAgIHRoaXMuaW5pdGlhbFkgPSBwb3NpdGlvbi55O1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uTW91c2VNb3ZlLCBudWxsKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Nb3VzZVVwLCBudWxsKTtcbiAgICAgICAgXG4gICAgfVxuICAgIG9uTW91c2VVcCA9IChlKSA9PiB7XG4gICAgICAgIGlmKHRoaXMub3B0aW9ucy5vbkRyYWdDb21wbGV0ZSl7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMub25EcmFnQ29tcGxldGUuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICAgICAgeDp0aGlzLmN1cnJlbnRYLFxuICAgICAgICAgICAgICAgIHk6dGhpcy5jdXJyZW50WVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vbk1vdXNlTW92ZSk7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm9uTW91c2VVcCwgbnVsbCk7XG4gICAgfVxuICAgIHNldFRyYW5zbGF0ZSh4LCB5KSB7XG4gICAgICAgIGlmKHRoaXMub3B0aW9ucy5lbGVtZW50KXtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5lbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgke3h9cHgsJHt5fXB4LDApYDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRQb3NpdGlvbihlLCBkeCwgZHkpe1xuICAgICAgICBpZiAoKC90b3VjaC8pLnRlc3QoZS50eXBlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB4OiBlLnRvdWNoZXNbMF0uY2xpZW50WCAtIGR4LFxuICAgICAgICAgICAgICAgIHk6IGUudG91Y2hlc1swXS5jbGllbnRZIC0gZHlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHg6IGUuY2xpZW50WCAtIGR4LFxuICAgICAgICAgICAgICAgIHk6IGUuY2xpZW50WSAtIGR5XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBEcmFnZ2FibGUgZnJvbSAnLi91dGlscy9kcmFnZ2FibGUnO1xuaW1wb3J0IHsgaCB9IGZyb20gJy4vdXRpbHMnO1xuY2xhc3MgTm90ZURyYWdnYWJsZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG5cdGRyYWdnYWJsZSA9IG51bGxcblx0Y29uc3RydWN0b3IocHJvcHMpIHtcblx0XHRzdXBlcihwcm9wcyk7XG5cdFx0dGhpcy5zdGF0ZT0ge1xuXHRcdFx0YWN0aXZlOiBwcm9wcy5zZWxlY3RlZCxcblx0XHRcdG9wdGlvbnM6IHt9XG5cdFx0fVxuXHRcdHRoaXMuZWxlbWVudCA9IFJlYWN0LmNyZWF0ZVJlZigpO1xuXHRcdHRoaXMuZHJhZ2dhYmxlID0gbmV3IERyYWdnYWJsZSgpO1xuXHR9XG5cdGNvbXBvbmVudERpZE1vdW50KCkge1xuXHRcdGNvbnN0IGVsID0gdGhpcy5lbGVtZW50P3RoaXMuZWxlbWVudC5jdXJyZW50Om51bGw7XG5cdFx0Y29uc3Qgb3B0aW9ucyA9IHtcblx0XHRcdGVsZW1lbnQ6IGVsLCBcblx0XHRcdHBvc2l0aW9uOiB0aGlzLnByb3BzLnBvc2l0aW9uLFxuXHRcdFx0b25EcmFnQ29tcGxldGU6dGhpcy5wcm9wcy5vbkRyYWdDb21wbGV0ZSxcblx0XHRcdG9uSW5pdDp0aGlzLnByb3BzLm9uSW5pdFxuXHRcdH07XG5cdFx0dGhpcy5zZXRTdGF0ZSh7b3B0aW9uc30sICgpPT4ge1xuXHRcdFx0dGhpcy5kcmFnZ2FibGUuaW5pdChvcHRpb25zKTtcblx0XHR9KVxuXHR9XG5cdG9uTW91c2VEb3duID0gKGUpID0+IHtcblx0XHRpZih0aGlzLnN0YXRlLmFjdGl2ZSYmZS50YXJnZXQ9PT10aGlzLnByb3BzLnRhcmdldC5jdXJyZW50KXtcblx0XHRcdHRoaXMuZHJhZ2dhYmxlLm9uTW91c2VEb3duKGUpO1xuXHRcdH1cblx0fVxuXHRvbkNsaWNrID0gKGUpID0+IHtcblx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdGFjdGl2ZTogdHJ1ZVxuXHRcdH0sICgpPT57XG5cdFx0XHR0aGlzLnByb3BzLm9uU2VsZWN0KHRoaXMuc3RhdGUuYWN0aXZlKTtcblx0XHR9KVxuXHR9XG5cdHJlbmRlcigpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0aCgnZGl2Jywge1xuXHRcdFx0XHRjbGFzc05hbWU6IHRoaXMucHJvcHMuY2xhc3NOYW1lLFxuXHRcdFx0XHRzdHlsZTogdGhpcy5wcm9wcy5zdHlsZSxcblx0XHRcdFx0cmVmOiB0aGlzLmVsZW1lbnQsXG5cdFx0XHRcdG9uQ2xpY2s6IHRoaXMub25DbGljayxcblx0XHRcdFx0b25Nb3VzZURvd246dGhpcy5vbk1vdXNlRG93blxuXHRcdFx0fSwgXG5cdFx0XHRcdHRoaXMucHJvcHMuY2hpbGRyZW5cblx0XHRcdClcblx0XHQpO1xuXHR9XG59XG5leHBvcnQgZGVmYXVsdCBOb3RlRHJhZ2dhYmxlO1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBOb3RlSGVhZGVyIGZyb20gJy4vbm90ZS1oZWFkZXInO1xuaW1wb3J0IE5vdGVUZXh0IGZyb20gJy4vbm90ZS10ZXh0JztcbmltcG9ydCBOb3RlTWVudSBmcm9tICcuL25vdGUtbWVudSc7XG5pbXBvcnQgTm90ZURyYWdnYWJsZSBmcm9tICcuL25vdGUtZHJhZ2dhYmxlJztcbmltcG9ydCB7IGgsIGdldEVsZW1lbnRTdHlsZSB9IGZyb20gJy4vdXRpbHMnO1xuY2xhc3MgTm90ZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcyl7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy50YXJnZXRSZWYgPSBSZWFjdC5jcmVhdGVSZWYoKTtcbiAgICB9XG4gICAgcmVuZGVyKCl7XG4gICAgXHRjb25zdCB7IGluZGV4LCBzZWxlY3RlZCwgd2lkdGgsIGhlaWdodCwgY29udGFpbmVySGVpZ2h0LCB0b2dnbGUsIHNldFRvZ2dsZSwgcHJlZml4LCB0aXRsZSwgdGV4dCwgY29sb3IsIHNldENvbG9yLCBhZGRJdGVtLCB1cGRhdGVJdGVtLCBzZWxlY3RJdGVtLCBkZWxldGVJdGVtLCBjb2xvckNvZGVzLCBwb3NpdGlvbiwgaWNvbnMgfSA9IHRoaXMucHJvcHM7XG4gICAgICAgIHJldHVybiBoKE5vdGVEcmFnZ2FibGUse1xuICAgICAgICAgICAgY2xhc3NOYW1lOmAke3ByZWZpeH0tLW5vdGUgJHtzZWxlY3RlZD9wcmVmaXgrJy0tbm90ZV9fc2VsZWN0ZWQnOicnfWAsXG4gICAgICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgICAgIHNlbGVjdGVkLFxuICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLnRhcmdldFJlZixcbiAgICAgICAgICAgIG9uRHJhZ0NvbXBsZXRlOihwb3NpdGlvbik9PnVwZGF0ZUl0ZW0oaW5kZXgsIHtwb3NpdGlvbn0pLFxuICAgICAgICAgICAgb25Jbml0OihvcHRpb25zKT0+dXBkYXRlSXRlbShpbmRleCwgb3B0aW9ucyksXG4gICAgICAgICAgICBvblNlbGVjdDooYWN0aXZlKT0+c2VsZWN0SXRlbShpbmRleCwge3NlbGVjdGVkOmFjdGl2ZX0pLFxuICAgICAgICAgICAgc3R5bGU6IGdldEVsZW1lbnRTdHlsZSgnbm90ZScsIHRoaXMucHJvcHMpXG4gICAgICAgIH0sW1xuICAgICAgICAgICAgaChOb3RlSGVhZGVyLCB7XG4gICAgICAgICAgICAgICAga2V5Oidub3RlLWhlYWRlcicsXG4gICAgICAgICAgICAgICAgdGFyZ2V0UmVmOiB0aGlzLnRhcmdldFJlZixcbiAgICAgICAgICAgICAgICBpbmRleCwgXG4gICAgICAgICAgICAgICAgcHJlZml4LFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkLCBcbiAgICAgICAgICAgICAgICBpY29ucyxcbiAgICAgICAgICAgICAgICBhZGRJdGVtLCBcbiAgICAgICAgICAgICAgICBkZWxldGVJdGVtLCBcbiAgICAgICAgICAgICAgICBzZXRUb2dnbGUsIFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uLCBcbiAgICAgICAgICAgICAgICB0aXRsZVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBoKCdkaXYnLHtcbiAgICAgICAgICAgICAgICBrZXk6J25vdGUtYm9keScsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOmAke3ByZWZpeH0tLW5vdGVfX2JvZHlgLFxuICAgICAgICAgICAgICAgIHN0eWxlOiBnZXRFbGVtZW50U3R5bGUoJ25vdGUtYm9keScsIHRoaXMucHJvcHMpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRvZ2dsZT09PWluZGV4KzEmJnNlbGVjdGVkJiZjb2xvckNvZGVzP1xuICAgICAgICAgICAgICAgIGgoTm90ZU1lbnUsIHsgXG4gICAgICAgICAgICAgICAgICAgIGtleTogJ25vdGUtbWVudScsIFxuICAgICAgICAgICAgICAgICAgICBjb2xvckNvZGVzLCBcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlSXRlbSwgXG4gICAgICAgICAgICAgICAgICAgIGluZGV4LCBcbiAgICAgICAgICAgICAgICAgICAgcHJlZml4LCBcbiAgICAgICAgICAgICAgICAgICAgY29sb3IsIFxuICAgICAgICAgICAgICAgICAgICBzZXRDb2xvciwgXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yQ29kZXNcbiAgICAgICAgICAgICAgICB9KTpcbiAgICAgICAgICAgICAgICBoKE5vdGVUZXh0LCB7IFxuICAgICAgICAgICAgICAgICAgICBrZXk6ICdub3RlLXRleHQnLCBcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgsIFxuICAgICAgICAgICAgICAgICAgICBwcmVmaXgsIFxuICAgICAgICAgICAgICAgICAgICB0ZXh0LCBcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlSXRlbVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApXG4gICAgXG4gICAgICAgIF0pXG4gICAgfVxufVxuZXhwb3J0IGRlZmF1bHQgTm90ZTsiLCJpbXBvcnQgeyBoIH0gZnJvbSAnLi91dGlscyc7XHJcbmZ1bmN0aW9uIE5hdkJhckl0ZW0oe3ByZWZpeCwgaWNvbnMsaW5kZXgsIGNvbG9yLCB0ZXh0LCBzZWxlY3RJdGVtLCBkZWxldGVJdGVtfSl7XHJcbiAgICByZXR1cm4gaCgnc3Bhbicse1xyXG4gICAgICAgIGNsYXNzTmFtZTpgJHtwcmVmaXh9LS1uYXZiYXJfX2l0ZW1gLFxyXG4gICAgICAgIHN0eWxlOntcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjb2xvclxyXG4gICAgICAgIH1cclxuICAgIH0sW1xyXG4gICAgICAgIGgoJ2J1dHRvbicse1xyXG4gICAgICAgICAgICBrZXk6IGBuYXZiYXItaXRlbV9fJHtpbmRleH0tLXNlbGVjdGAsXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZTpgJHtwcmVmaXh9LS1uYXZiYXJfX2l0ZW0tLXNlbGVjdGAsXHJcbiAgICAgICAgICAgIHR5cGU6ICdidXR0b24nLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKT0+c2VsZWN0SXRlbShpbmRleCwge3NlbGVjdGVkOnRydWV9KVxyXG4gICAgICAgIH0sIHRleHQ/dGV4dDonLi4uJyksXHJcbiAgICAgICAgaCgnYnV0dG9uJyx7XHJcbiAgICAgICAgICAgIGtleTogYG5hdmJhci1pdGVtX18ke2luZGV4fS0tZGVsZXRlYCxcclxuICAgICAgICAgICAgdHlwZTogJ2J1dHRvbicsXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZTpgJHtwcmVmaXh9LS1uYXZiYXJfX2l0ZW0tLWRlbGV0ZWAsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpPT5kZWxldGVJdGVtKGluZGV4LCB7c2VsZWN0ZWQ6dHJ1ZX0pLFxyXG4gICAgICAgIH0sICd4JyksXHJcbiAgICBdKTtcclxufVxyXG5leHBvcnQgZGVmYXVsdCBOYXZCYXJJdGVtOyIsIlxyXG5pbXBvcnQgeyBoIH0gZnJvbSAnLi91dGlscyc7XHJcbmZ1bmN0aW9uIE5hdkJhckl0ZW1BZGQoe3ByZWZpeCwgaWNvbnMsIGFkZEl0ZW19KXtcclxuICAgIHJldHVybiBoKCdidXR0b24nLHtcclxuICAgICAgICBrZXk6IGAke3ByZWZpeH0tLW5hdmJhcl9faXRlbS0tYWRkYCxcclxuICAgICAgICB0eXBlOiAnYnV0dG9uJyxcclxuICAgICAgICBjbGFzc05hbWU6YCR7cHJlZml4fS0tbmF2YmFyX19pdGVtLS1hZGRgLFxyXG4gICAgICAgIG9uQ2xpY2s6ICgpPT5hZGRJdGVtKCksXHJcbiAgICB9LCBpY29ucy5hZGQpO1xyXG59XHJcbmV4cG9ydCBkZWZhdWx0IE5hdkJhckl0ZW1BZGQ7IiwiaW1wb3J0IHsgaCB9IGZyb20gJy4vdXRpbHMnO1xyXG5pbXBvcnQgTmF2QmFySXRlbSBmcm9tICcuL25hdmJhci1pdGVtJztcclxuaW1wb3J0IE5hdkJhckl0ZW1BZGQgZnJvbSAnLi9uYXZiYXItaXRlbS1hZGQnO1xyXG5mdW5jdGlvbiBOYXZCYXIoe3ByZWZpeCwgaXRlbXMsIGFkZEl0ZW0sIHNlbGVjdEl0ZW0sIGRlbGV0ZUl0ZW0sIGljb25zLCBkaXNwbGF5Rm9vdGVyfSl7XHJcbiAgICByZXR1cm4gaCgnZGl2Jyx7XHJcbiAgICAgICAgY2xhc3NOYW1lOmAke3ByZWZpeH0tLW5hdmJhcmAsXHJcbiAgICB9LFtcclxuICAgICAgICBkaXNwbGF5Rm9vdGVyJiZpdGVtcz9pdGVtcy5tYXAoKGl0ZW0sIGluZGV4KT0+XHJcbiAgICAgICAgICAgIGgoTmF2QmFySXRlbSx7XHJcbiAgICAgICAgICAgICAgICBrZXk6IGBuYXZiYXItaXRlbV9fJHtpbmRleH1gLFxyXG4gICAgICAgICAgICAgICAgaW5kZXgsXHJcbiAgICAgICAgICAgICAgICBwcmVmaXgsXHJcbiAgICAgICAgICAgICAgICBpY29ucyxcclxuICAgICAgICAgICAgICAgIHRleHQ6aXRlbS50ZXh0LFxyXG4gICAgICAgICAgICAgICAgY29sb3I6aXRlbS5jb2xvcixcclxuICAgICAgICAgICAgICAgIHNlbGVjdEl0ZW0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGVJdGVtXHJcbiAgICAgICAgICAgIH0saXRlbS50ZXh0KVxyXG4gICAgICAgICk6bnVsbCxcclxuICAgICAgICBoKE5hdkJhckl0ZW1BZGQse1xyXG4gICAgICAgICAgICBrZXk6IGBuYXZiYXItaXRlbV9fYWRkYCxcclxuICAgICAgICAgICAgcHJlZml4LFxyXG4gICAgICAgICAgICBpY29ucyxcclxuICAgICAgICAgICAgYWRkSXRlbSxcclxuICAgICAgICB9KVxyXG4gICAgXSk7XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgTmF2QmFyOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTm90ZSBmcm9tICcuL25vdGUnO1xuaW1wb3J0IE5hdkJhciBmcm9tICcuL25hdmJhcic7XG5pbXBvcnQgeyBoLCBnZXRFbGVtZW50U3R5bGUgfSBmcm9tICcuL3V0aWxzJztcbmNsYXNzIE5vdGVzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50e1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKXtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgdG9nZ2xlOmZhbHNlLFxuICAgICAgICAgICAgY29udGFpbmVyV2lkdGg6IDAsXG4gICAgICAgICAgICBjb250YWluZXJIZWlnaHQ6IDBcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5vdGVzQ29udGFpbmVyID0gUmVhY3QuY3JlYXRlUmVmKCk7XG4gICAgfVxuICAgIGNvbXBvbmVudERpZE1vdW50KCl7XG4gICAgICAgIGlmKHRoaXMubm90ZXNDb250YWluZXIgJiYgdGhpcy5ub3Rlc0NvbnRhaW5lci5jdXJyZW50KXtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lcldpZHRoOiB0aGlzLm5vdGVzQ29udGFpbmVyLmN1cnJlbnQub2Zmc2V0V2lkdGgsXG4gICAgICAgICAgICAgICAgY29udGFpbmVySGVpZ2h0OiB0aGlzLm5vdGVzQ29udGFpbmVyLmN1cnJlbnQub2Zmc2V0SGVpZ2h0LFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRUb2dnbGUgPSAodG9nZ2xlKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgdG9nZ2xlOiB0aGlzLnN0YXRlLnRvZ2dsZT09PXRvZ2dsZT9mYWxzZTp0b2dnbGVcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNldENvbG9yID0gKGluZGV4LCBjb2xvcikgPT4ge1xuICAgICAgICB0aGlzLnNldFRvZ2dsZShmYWxzZSk7XG4gICAgICAgIHRoaXMucHJvcHMudXBkYXRlSXRlbShpbmRleCx7Y29sb3J9KVxuICAgIH1cbiAgICByZW5kZXIoKXtcbiAgICAgICAgY29uc3Qge3ByZWZpeCwgYWRkSXRlbSwgdXBkYXRlSXRlbSwgc2VsZWN0SXRlbSwgZGVsZXRlSXRlbSwgY29sb3JDb2RlcywgY29udGFpbmVyV2lkdGgsIGNvbnRhaW5lckhlaWdodCwgd2lkdGgsIGhlaWdodCwgYmFja2dyb3VuZENvbG9yLCBpY29ucywgaXRlbXMsIGRpc3BsYXlGb290ZXJ9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgcmV0dXJuIGgoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICBrZXk6IHByZWZpeCwgXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXgsXG4gICAgICAgICAgICAgICAgcmVmOiB0aGlzLm5vdGVzQ29udGFpbmVyLFxuICAgICAgICAgICAgICAgIHN0eWxlOiBnZXRFbGVtZW50U3R5bGUoJ2NvbnRhaW5lcicsIHRoaXMucHJvcHMpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgaXRlbXM/aXRlbXMubWFwKChpdGVtLCBpbmRleCk9PlxuICAgICAgICAgICAgICAgICAgICBoKE5vdGUseyBcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi50aGlzLnN0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnQ6aXRlbXMubGVuZ3RoLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogaW5kZXgsIFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlZml4LFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgsIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCwgXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRJdGVtLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUl0ZW0sIFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0SXRlbSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZUl0ZW0sIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3JDb2RlcywgIFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlOnRoaXMuc3RhdGUudG9nZ2xlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VG9nZ2xlOnRoaXMuc2V0VG9nZ2xlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q29sb3I6dGhpcy5zZXRDb2xvclxuICAgICAgICAgICAgICAgICAgICB9LG51bGwpXG4gICAgICAgICAgICAgICAgKTpudWxsLFxuICAgICAgICAgICAgICAgIGgoTmF2QmFyLHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiBgJHtwcmVmaXh9LS1uYXZiYXJgLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5Rm9vdGVyLFxuICAgICAgICAgICAgICAgICAgICBwcmVmaXgsXG4gICAgICAgICAgICAgICAgICAgIGljb25zLFxuICAgICAgICAgICAgICAgICAgICBpdGVtcyxcbiAgICAgICAgICAgICAgICAgICAgYWRkSXRlbSxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0SXRlbSxcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlSXRlbVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgIF1cbiAgICAgICAgKVxuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IE5vdGVzO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==